---
import BaseLayout from "@layouts/BaseLayout.astro";
import PostList from "@components/PostList.astro";
import Title from "@components/Title.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("posts").then((posts) =>
  posts.sort(
    (lhs, rhs) =>
      new Date(rhs.data.date).getTime() - new Date(lhs.data.date).getTime()
  )
);
---

<BaseLayout
  title="Reducet"
  description="Read my posts related to programming here."
>
  <Title>Welcome to Reducet</Title>
  <section>
    <h2>Recent posts</h2>
    <PostList posts={posts} />
  </section>
</BaseLayout>
